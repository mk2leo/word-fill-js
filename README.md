# å–®å­—å¡«ç©ºç·´ç¿’æ‡‰ç”¨ (JavaScript/Next.js ç‰ˆ)

ä¸€å€‹åŸºæ–¼ DeepSeek API çš„è‹±èªå–®å­—å¡«ç©ºç·´ç¿’å·¥å…·ï¼Œä½¿ç”¨ React + TypeScript + tRPC + Express æ§‹å»ºã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **AI æ™ºèƒ½ç”Ÿæˆ**ï¼šä½¿ç”¨ DeepSeek API ç”Ÿæˆå€‹æ€§åŒ–çš„è‹±èªå¡«ç©ºç·´ç¿’å¥å­
- **å¤šé›£åº¦ç´šåˆ¥**ï¼šæ”¯æŒç°¡å–®ã€ä¸­ç­‰ã€å›°é›£ä¸‰å€‹é›£åº¦ç´šåˆ¥
- **æ‰¹é‡ç·´ç¿’**ï¼šæ”¯æŒä¸€æ¬¡æ·»åŠ å¤šå€‹å–®å­—é€²è¡Œç·´ç¿’
- **è‡ªå‹•è©•åˆ†**ï¼šå¯¦æ™‚æª¢æŸ¥ç­”æ¡ˆä¸¦çµ±è¨ˆæˆç¸¾
- **æ•¸æ“šç®¡ç†**ï¼šæ”¯æŒå–®å­—åˆ—è¡¨çš„å°å…¥å’Œå°å‡º
- **æœ¬åœ°å‚™ç”¨**ï¼šAPI ä¸å¯ç”¨æ™‚è‡ªå‹•ä½¿ç”¨æœ¬åœ°æ¨¡æ¿
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šå®Œç¾æ”¯æŒæ¡Œé¢ç«¯å’Œç§»å‹•ç«¯
- **å¯¦æ™‚åé¥‹**ï¼šå³æ™‚é¡¯ç¤ºç·´ç¿’çµæœå’Œçµ±è¨ˆæ•¸æ“š

## ğŸ› ï¸ æŠ€è¡“æ£§

| å±¤ç´š | æŠ€è¡“ |
|------|------|
| **å‰ç«¯** | React 19 + TypeScript + Tailwind CSS 4 + shadcn/ui |
| **å¾Œç«¯** | Express 4 + tRPC 11 + Node.js |
| **æ•¸æ“šåº«** | MySQL/TiDB (å¯é¸) |
| **AI æœå‹™** | DeepSeek API |
| **éƒ¨ç½²** | Vercel |

## ğŸ“‹ å¿«é€Ÿé–‹å§‹

### æœ¬åœ°é–‹ç™¼

```bash
# å®‰è£ä¾è³´
pnpm install

# é…ç½®ç’°å¢ƒè®Šæ•¸
export DEEPSEEK_API_KEY=your_api_key_here

# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
pnpm run dev

# è¨ªå•æ‡‰ç”¨
# å‰ç«¯: http://localhost:3000
# API: http://localhost:3000/api/trpc
```

### é‹è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
pnpm test

# ç›£è¦–æ¨¡å¼
pnpm test --watch
```

### ç”Ÿç”¢æ§‹å»º

```bash
# æ§‹å»ºæ‡‰ç”¨
pnpm run build

# å•Ÿå‹•ç”Ÿç”¢æœå‹™å™¨
pnpm start
```

## ğŸ“ é …ç›®çµæ§‹

```
word-fill-practice-js/
â”œâ”€â”€ client/                          # React å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx            # ä¸»é é¢ - å–®å­—å¡«ç©ºç·´ç¿’
â”‚   â”‚   â”‚   â””â”€â”€ NotFound.tsx        # 404 é é¢
â”‚   â”‚   â”œâ”€â”€ components/              # å¯é‡ç”¨ UI çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ contexts/                # React Context
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â””â”€â”€ trpc.ts             # tRPC å®¢æˆ¶ç«¯é…ç½®
â”‚   â”‚   â”œâ”€â”€ App.tsx                 # ä¸»æ‡‰ç”¨çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.tsx                # æ‡‰ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ index.css               # å…¨å±€æ¨£å¼
â”‚   â””â”€â”€ public/                      # éœæ…‹è³‡æº
â”œâ”€â”€ server/                          # Express å¾Œç«¯æœå‹™
â”‚   â”œâ”€â”€ routers.ts                  # tRPC è·¯ç”±å®šç¾©
â”‚   â”‚   â”œâ”€â”€ auth                    # èªè­‰ç›¸é—œè·¯ç”±
â”‚   â”‚   â””â”€â”€ wordFill                # å–®å­—å¡«ç©ºè·¯ç”±
â”‚   â”œâ”€â”€ db.ts                       # æ•¸æ“šåº«æŸ¥è©¢åŠ©æ‰‹
â”‚   â”œâ”€â”€ _core/                      # æ ¸å¿ƒåŸºç¤è¨­æ–½
â”‚   â”‚   â”œâ”€â”€ index.ts                # Express æ‡‰ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ context.ts              # tRPC ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ trpc.ts                 # tRPC é…ç½®
â”‚   â”‚   â”œâ”€â”€ env.ts                  # ç’°å¢ƒè®Šæ•¸
â”‚   â”‚   â””â”€â”€ ...                     # å…¶ä»–æ ¸å¿ƒæ¨¡å¡Š
â”‚   â”œâ”€â”€ auth.logout.test.ts         # èªè­‰æ¸¬è©¦
â”‚   â”œâ”€â”€ wordFill.test.ts            # å–®å­—å¡«ç©º API æ¸¬è©¦
â”‚   â””â”€â”€ deepseek-api.test.ts        # DeepSeek API é©—è­‰æ¸¬è©¦
â”œâ”€â”€ drizzle/                        # æ•¸æ“šåº«æ¶æ§‹å’Œé·ç§»
â”‚   â””â”€â”€ schema.ts                   # æ•¸æ“šåº«è¡¨å®šç¾©
â”œâ”€â”€ shared/                         # å…±äº«å¸¸é‡å’Œé¡å‹
â”œâ”€â”€ storage/                        # S3 æ–‡ä»¶å­˜å„²åŠ©æ‰‹
â”œâ”€â”€ package.json                    # é …ç›®ä¾è³´
â”œâ”€â”€ tsconfig.json                   # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.ts              # Tailwind CSS é…ç½®
â”œâ”€â”€ vite.config.ts                  # Vite æ§‹å»ºé…ç½®
â”œâ”€â”€ vercel.json                     # Vercel éƒ¨ç½²é…ç½®
â”œâ”€â”€ .vercelignore                   # Vercel å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ DEPLOYMENT.md                   # éƒ¨ç½²æŒ‡å—
â””â”€â”€ README.md                       # æœ¬æ–‡ä»¶
```

## ğŸ”§ API è·¯ç”±

### å–®å­—å¡«ç©ºè·¯ç”± (`/api/trpc/wordFill`)

#### ç”Ÿæˆå–®å€‹å¥å­
```typescript
// è«‹æ±‚
POST /api/trpc/wordFill.generateSentence
{
  "word": "happy",
  "difficulty": "medium"
}

// éŸ¿æ‡‰
{
  "success": true,
  "word": "happy",
  "sentence": "She felt very ___ about the good news.",
  "difficulty": "medium",
  "fallback": false
}
```

#### æ‰¹é‡ç”Ÿæˆå¥å­
```typescript
// è«‹æ±‚
POST /api/trpc/wordFill.generateBatch
{
  "words": ["apple", "book", "cat"],
  "difficulty": "easy"
}

// éŸ¿æ‡‰
{
  "success": true,
  "results": [
    {
      "success": true,
      "word": "apple",
      "sentence": "I like to eat an ___ every day.",
      "difficulty": "easy",
      "fallback": false
    }
  ]
}
```

#### å¥åº·æª¢æŸ¥
```typescript
// è«‹æ±‚
GET /api/trpc/wordFill.health

// éŸ¿æ‡‰
{
  "status": "ok",
  "timestamp": "2024-11-27T12:00:00.000Z"
}
```

## ğŸ”‘ ç’°å¢ƒè®Šæ•¸

### å¿…éœ€
- `DEEPSEEK_API_KEY` - DeepSeek API å¯†é‘°

### å¯é¸
- `DATABASE_URL` - æ•¸æ“šåº«é€£æ¥å­—ç¬¦ä¸²
- `JWT_SECRET` - æœƒè©±åŠ å¯†å¯†é‘°

## ğŸ“Š æ¸¬è©¦è¦†è“‹

æœ¬å°ˆæ¡ˆåŒ…å«å®Œæ•´çš„æ¸¬è©¦å¥—ä»¶ï¼š

- **èªè­‰æ¸¬è©¦** - ç™»å‡ºåŠŸèƒ½é©—è­‰
- **API æ¸¬è©¦** - å–®å­—å¡«ç©º API è·¯ç”±æ¸¬è©¦
- **é›†æˆæ¸¬è©¦** - DeepSeek API é€£æ¥é©—è­‰

é‹è¡Œæ¸¬è©¦ï¼š
```bash
pnpm test
```

## ğŸš€ éƒ¨ç½²åˆ° Vercel

è©³ç´°éƒ¨ç½²æŒ‡å—è«‹åƒè€ƒ [DEPLOYMENT.md](./DEPLOYMENT.md)

å¿«é€Ÿæ­¥é©Ÿï¼š
1. æ¨é€ä»£ç¢¼åˆ° GitHub
2. åœ¨ Vercel ä¸­å°å…¥é …ç›®
3. é…ç½®ç’°å¢ƒè®Šæ•¸ (`DEEPSEEK_API_KEY` ç­‰)
4. éƒ¨ç½²

## ğŸ“ ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æµç¨‹

1. **æ·»åŠ å–®å­—** - åœ¨è¼¸å…¥æ¡†ä¸­è¼¸å…¥è‹±èªå–®å­—ï¼ŒæŒ‰ Enter æˆ–é»æ“Šã€Œæ·»åŠ ã€
2. **ç”Ÿæˆç·´ç¿’é¡Œ** - é¸æ“‡é›£åº¦ç´šåˆ¥ï¼Œé»æ“Šã€Œç”Ÿæˆç·´ç¿’é¡Œã€
3. **ç·´ç¿’å’Œæª¢æŸ¥** - å¡«å¯«ç­”æ¡ˆï¼Œé»æ“Šã€Œæª¢æŸ¥ç­”æ¡ˆã€
4. **ç®¡ç†å–®å­—** - ä½¿ç”¨å°å‡º/å°å…¥åŠŸèƒ½ç®¡ç†å–®å­—åˆ—è¡¨

## ğŸ› æ•…éšœæ’é™¤

### API é€£æ¥å¤±æ•—
- æª¢æŸ¥ `DEEPSEEK_API_KEY` æ˜¯å¦æ­£ç¢ºé…ç½®
- ç¢ºèª API Key æœ‰è¶³å¤ çš„é…é¡
- æª¢æŸ¥ç¶²çµ¡é€£æ¥

### éƒ¨ç½²å•é¡Œ
- æŸ¥çœ‹ Vercel éƒ¨ç½²æ—¥èªŒ
- ç¢ºä¿æ‰€æœ‰ç’°å¢ƒè®Šæ•¸éƒ½å·²é…ç½®
- æª¢æŸ¥ `package.json` ä¾è³´æ˜¯å¦æ­£ç¢º

## ğŸ“„ è¨±å¯è­‰

MIT License

---

**æœ€å¾Œæ›´æ–°**: 2024 å¹´ 11 æœˆ 27 æ—¥
